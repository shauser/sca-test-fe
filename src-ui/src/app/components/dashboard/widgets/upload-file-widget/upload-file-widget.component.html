<app-widget-frame title="Upload new documents" i18n-title>

  <div content>
    <form>
      <ngx-file-drop dropZoneLabel="Drop documents here or" browseBtnLabel="Browse files" (onFileDrop)="dropped($event)"
        (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)" dropZoneClassName="bg-light card"
        multiple="true" contentClassName="justify-content-center d-flex align-items-center p-5" [showBrowseBtn]=true
        browseBtnClassName="btn btn-sm btn-outline-primary ml-2" i18n-dropZoneLabel i18n-browseBtnLabel>

      </ngx-file-drop>
    </form>
    <div *ngFor="let status of getStatus()">
      <p>{{status.filename}}: {{status.message}}</p>
      <ngb-progressbar [value]="status.getProgress()" [max]="1" [striped]="true" [animated]="!isFinished(status)" [type]="getType(status)">
      </ngb-progressbar>

      <div *ngIf="isFinished(status)" class="mb-2">
        <button *ngIf="status.documentId" class="btn btn-sm btn-outline-primary mr-2" routerLink="/documents/{{status.documentId}}" (click)="dismiss(status)">Open document</button>
        <button class="btn btn-sm btn-outline-secondary" (click)="dismiss(status)">Dismiss</button>
      </div>
    
    </div>
  </div>
</app-widget-frame>